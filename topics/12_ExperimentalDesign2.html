<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

  <title>Chemometrics and Statistics</title>

  <link rel="stylesheet" href="../dist/reset.css">
  <link rel="stylesheet" href="../dist/reveal.css">
  <link rel="stylesheet" href="../dist/theme/iac.css">
  <link rel="stylesheet" href="../css/mystyles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />

  <!-- Theme used for syntax highlighted code -->
  <link rel="stylesheet" href="../plugin/highlight/monokai.css">
  <link rel="stylesheet" href="../dist/theme/simple.css" media="print">
  <style>
    .green-text {
      color: rgb(133, 198, 42);
    }

    .teal-text {
      color: rgb(0, 150, 136);
    }

    .small-text {
      font-size: 0.8em;
    }
  </style>
</head>

<body>
  <div class="reveal">
    <div class="slides">
      <section>
        <h2><span class="green-text">C</span>hemometrics & <span class="teal-text">S</span>tatistics</h2>
        <pre><code>12. Experimental Design 2</code></pre>
        <h4>Design of Experiment (DoE)</h4>
        <p style="text-align: right; font-size: medium;">by <a href="https://www.uni-due.de/iac/gerrit_renner.php"
            target="_blank">Gerrit Renner</a></p>
      </section>

      <section>
        <h4>Initial Thoughts</h4>
        <div>
          <div class="leftBox">
            <p class="mainBullet">
              <strong>Coagulation process</strong> to remove microplastics from water
            </p>
            <p class="subBullet">
              <strong>Factors:</strong> Coagulant dosage, pH, stirring speed
            </p>
            <p class="subBullet">
              <strong>Response:</strong> Removal efficiency<br>(% microplastics)
            </p>

            <p class="question">
              <strong>How do process parameters affect microplastic removal efficiency?</strong>
            </p>
          </div>
          <div class="spacer"></div>
          <div class="rightBox">
            <img src="../resources/coagulation.png" alt="Coagulation process" style="width: 100%;">
          </div>
        </div>
      </section>

      <section>
        <h4>Experimental Design: General Info</h4>
        <div>
          <div class="leftBox">
            <p class="mainBullet">
              <strong>Experimental Design</strong>: A structured approach to planning experiments
            </p>
            <p class="subBullet">
              Goal: Maximize information while minimizing resources
            </p>
            <p class="subBullet">
              Focus: Identify key factors and their interactions
            </p>
            <p class="mainBullet">
              <strong>Key Benefits:</strong>
            </p>
            <p class="subBullet">
              Improves efficiency and reliability of results
            </p>
            <p class="subBullet">
              Provides insights into cause-and-effect relationships
            </p>
          </div>
          <div class="spacer"></div>
          <div class="rightBox">

          </div>
        </div>
      </section>

      <section>
        <h4>Two main Tasks in Experimental Design</h4>
        <div style="box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3); padding: 10px;">
          <div class="leftBox">
            <p class="mainBullet">
              <strong>1: Method optimization</strong>
            </p>
            <p class="subBullet" style="font-size: large;">
              Focus: Identify the best combination of factors <strong>(dynamically exploring design space)</strong>
            </p>
            <p class="subBullet" style="font-size: large;">
              Goal: Maximize performance (e.g., sensitivity, efficiency)
            </p>
            <p class="subBullet" style="font-size: large;">
              Example: Optimizing pH, temperature, and time for a chemical reaction
            </p>
          </div>
          <div class="spacer"></div>
          <div class="rightBox">
            <img src="../resources/expdesign1.png" alt="Optimization" style="width: 100%;">
          </div>
        </div>
        <div style="box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3); padding: 10px; background-color: wheat;">
          <div class="leftBox">
            <img src="../resources/expdesign2.png" alt="Optimization" style="width: 100%;">
          </div>
          <div class="spacer"></div>
          <div class="rightBox">
            <p class="mainBullet">
              <strong>2: Determination of effects</strong>
            </p>
            <p class="subBullet" style="font-size: large;">
              Focus: Quantify the impact of individual factors and their interactions <strong>(statically exploring
                design
                space)</strong>
            </p>
            <p class="subBullet" style="font-size: large;">
              Goal: Understand cause-and-effect relationships
            </p>
            <p class="subBullet" style="font-size: large;">
              Example: Assessing how pH, stirring speed, and dosage influence pollutant removal
            </p>
          </div>
        </div>
      </section>

      <section>
        <h4>Introduction to Design of Experiments (DoE)</h4> <div> <div class="leftBox"> <p class="mainBullet"> What is DoE? </p> <p class="subBullet" style="font-size: medium;"> A systematic approach to plan, conduct, and analyze experiments to understand how multiple factors (e.g., water pH, pollutant concentration) affect key outcomes (e.g., degradation efficiency). </p> <p class="mainBullet"> Goals of DoE </p> <p class="subBullet" style="font-size: medium;"> Identify key factors such as temperature, catalyst type, or pollutant type that significantly impact water treatment processes. </p> <p class="subBullet" style="font-size: medium;"> Optimize experiments for environmental processes like nutrient recovery or pollutant degradation. </p> <p class="subBullet" style="font-size: medium;"> Ensure reliable results for regulatory compliance and environmental protection. </p> </div> <div class="spacer"></div> <div class="rightBox"> <img src="https://via.placeholder.com/300" alt="Graph illustrating experimental design concept"> </div> </div>
      </section>

      <section>
        <h4>Key Elements of Experimental Design</h4> <div> <div class="leftBox"> <p class="mainBullet"> Core Components of DoE </p> <p class="subBullet" style="font-size: medium;"> Factors: Controlled variables such as pollutant type, pH, or catalyst concentration. </p> <p class="subBullet" style="font-size: medium;"> Levels: Specific values, e.g., pollutant concentrations of 10, 50, and 100 mg/L. </p> <p class="subBullet" style="font-size: medium;"> Response: Measurable outcomes like pollutant degradation (%) or toxicity reduction. </p> <p class="mainBullet"> Why Structure Matters </p> <p class="subBullet" style="font-size: medium;"> A structured design helps uncover relationships like how pH influences heavy metal precipitation. </p> </div> <div class="spacer"></div> <div class="rightBox"> <img src="https://via.placeholder.com/300" alt="Illustration of factorial design with factors and levels"> </div> </div>
      </section>

      <section>
        <h4>Advantages of Design of Experiments</h4> <div> <div class="leftBox"> <p class="mainBullet"> Efficient Experimentation </p> <p class="subBullet" style="font-size: medium;"> DoE minimizes tests needed to determine the optimal dosage of coagulants in water treatment. </p> <p class="mainBullet"> Identifies Key Insights </p> <p class="subBullet" style="font-size: medium;"> Reveals how interactions between pollutant types and catalysts affect degradation rates. </p> <p class="mainBullet"> Improves Process Understanding </p> <p class="subBullet" style="font-size: medium;"> Optimizes processes like advanced oxidation or nutrient recovery from wastewater. </p> </div> <div class="spacer"></div> <div class="rightBox"> <img src="https://via.placeholder.com/300" alt="Flowchart showing DoE efficiency and insights"> </div> </div>
      </section>

      <section>
        <h4>Types of Experimental Designs</h4> <div> <div class="leftBox"> <p class="mainBullet"> Full Factorial Design </p> <p class="subBullet" style="font-size: medium;"> Explores all combinations of factors, e.g., pH, temperature, and pollutant type, providing comprehensive insights. </p> <p class="mainBullet"> Fractional Factorial Design </p> <p class="subBullet" style="font-size: medium;"> Tests a subset of combinations to reduce effort, e.g., identifying key factors in pesticide degradation. </p> <p class="mainBullet"> Response Surface Methodology (RSM) </p> <p class="subBullet" style="font-size: medium;"> Used for optimization, e.g., modeling the effects of UV dosage and pollutant concentration on water treatment. </p> </div> <div class="spacer"></div> <div class="rightBox"> <img src="https://via.placeholder.com/300" alt="Simplified illustration of factorial design applications in water treatment"> </div> </div>
      </section>
      
      <section>
        <h4>Example: Full Factorial Design for Pollutant Removal</h4> <div> <div class="leftBox"> <p class="mainBullet"> <strong>Objective</strong> </p> <p class="subBullet" style="font-size: medium;"> Investigate how <strong>temperature</strong> and <strong>pH</strong> influence pollutant removal efficiency in water samples. </p> <p class="mainBullet"> <strong>Factors and Levels</strong> </p> <p class="subBullet" style="font-size: medium;"> <strong>Factor 1:</strong> Temperature → Levels: -1 (Low, 20°C), +1 (High, 40°C) </p> <p class="subBullet" style="font-size: medium;"> <strong>Factor 2:</strong> pH → Levels: -1 (Low, pH 5), +1 (High, pH 9) </p> <p class="mainBullet"> <strong>Design Type</strong> </p> <p class="subBullet" style="font-size: medium;"> Full factorial design with <strong>2 levels per factor</strong> (2 × 2 = 4 experiments). </p> </div> <div class="spacer"></div> <div class="rightBox"> <img src="https://via.placeholder.com/300" alt="Illustration of temperature and pH levels in water treatment"> </div> </div>
      </section>

      <section>
        <h4>Step 1: Creating the Design Matrix</h4> <div> <div class="leftBox"> <p class="mainBullet"> <strong>Design Matrix</strong> </p> <p class="subBullet" style="font-size: medium;"> All combinations of factors and levels (-1, +1) form the matrix. </p> <table style="font-size: medium; border: 1px solid black; border-collapse: collapse;"> <tr> <th style="border: 1px solid black; padding: 5px;">Run</th> <th style="border: 1px solid black; padding: 5px;">Temperature (X₁)</th> <th style="border: 1px solid black; padding: 5px;">pH (X₂)</th> <th style="border: 1px solid black; padding: 5px;">Removal Efficiency (Y)</th> </tr> <tr> <td style="border: 1px solid black; padding: 5px;">1</td> <td style="border: 1px solid black; padding: 5px;">-1</td> <td style="border: 1px solid black; padding: 5px;">-1</td> <td style="border: 1px solid black; padding: 5px;">70</td> </tr> <tr> <td style="border: 1px solid black; padding: 5px;">2</td> <td style="border: 1px solid black; padding: 5px;">-1</td> <td style="border: 1px solid black; padding: 5px;">+1</td> <td style="border: 1px solid black; padding: 5px;">75</td> </tr> <tr> <td style="border: 1px solid black; padding: 5px;">3</td> <td style="border: 1px solid black; padding: 5px;">+1</td> <td style="border: 1px solid black; padding: 5px;">-1</td> <td style="border: 1px solid black; padding: 5px;">85</td> </tr> <tr> <td style="border: 1px solid black; padding: 5px;">4</td> <td style="border: 1px solid black; padding: 5px;">+1</td> <td style="border: 1px solid black; padding: 5px;">+1</td> <td style="border: 1px solid black; padding: 5px;">90</td> </tr> </table> <p class="mainBullet"> <strong>Regression Model</strong> </p> <p class="subBullet" style="font-size: medium;"> Fit a linear regression model: </p> <p class="subBullet" style="font-size: medium;"> <strong>Y = β₀ + β₁X₁ + β₂X₂</strong> </p> <p class="subBullet" style="font-size: medium;"> - <strong>Y:</strong> Removal efficiency (%) - <strong>X₁:</strong> Temperature (-1, +1) - <strong>X₂:</strong> pH (-1, +1) </p> </div> <div class="spacer"></div> <div class="rightBox"> <img src="https://via.placeholder.com/300" alt="Linear regression equation with factors"> </div> </div>
      </section>

      <section>
        <h4>Step 2: Regression Analysis</h4> <div> <div class="leftBox"> <p class="mainBullet"> <strong>Fitting the Model</strong> </p> <p class="subBullet" style="font-size: medium;"> Using the data: </p> <p class="subBullet" style="font-size: medium;"> Run 1: Y = 70 Run 2: Y = 75 Run 3: Y = 85 Run 4: Y = 90 </p> <p class="mainBullet"> <strong>Estimated Coefficients</strong> </p> <p class="subBullet" style="font-size: medium;"> <strong>β₀:</strong> Average response (intercept) </p> <p class="subBullet" style="font-size: medium;"> <strong>β₁:</strong> Effect of temperature on removal efficiency </p> <p class="subBullet" style="font-size: medium;"> <strong>β₂:</strong> Effect of pH on removal efficiency </p> <p class="mainBullet"> <strong>Example Result</strong> </p> <p class="subBullet" style="font-size: medium;"> Y = 80 + 7.5X₁ + 2.5X₂ </p> </div> <div class="spacer"></div> <div class="rightBox"> <img src="https://via.placeholder.com/300" alt="Regression coefficients visualized on a plot"> </div> </div>
      </section>

      <section>
        <h4>Step 3: Interpreting Results</h4> <div> <div class="leftBox"> <p class="mainBullet"> <strong>Insights from Coefficients</strong> </p> <p class="subBullet" style="font-size: medium;"> <strong>β₁ (7.5):</strong> Higher temperature significantly improves removal efficiency. </p> <p class="subBullet" style="font-size: medium;"> <strong>β₂ (2.5):</strong> Higher pH has a smaller positive effect. </p> <p class="mainBullet"> <strong>Predictions</strong> </p> <p class="subBullet" style="font-size: medium;"> Predict removal efficiency for any combination of temperature and pH using the regression equation. </p> <p class="mainBullet"> <strong>Visualization</strong> </p> <p class="subBullet" style="font-size: medium;"> Create 2D or 3D plots to illustrate the effects of temperature and pH on removal efficiency. </p> </div> <div class="spacer"></div> <div class="rightBox"> <img src="https://via.placeholder.com/300" alt="2D plot showing the effect of temperature and pH on efficiency"> </div> </div>
      </section>

      <section>
        <h4>Step 4: Testing Significance of Coefficients</h4> <div> <div class="leftBox"> <p class="mainBullet"> <strong>Hypothesis Testing</strong> </p> <p class="subBullet" style="font-size: medium;"> For each coefficient (<strong>β₁</strong>, <strong>β₂</strong>): </p> <p class="subBullet" style="font-size: medium;"> - Null hypothesis (H₀): The coefficient is not significant (β = 0). </p> <p class="subBullet" style="font-size: medium;"> - Alternative hypothesis (H₁): The coefficient is significant (β ≠ 0). </p> <p class="mainBullet"> <strong>t-Test for Significance</strong> </p> <p class="subBullet" style="font-size: medium;"> Use the formula for the t-statistic: </p> <p class="subBullet" style="font-size: medium;"> <strong>t = β / SE(β)</strong> </p> <p class="subBullet" style="font-size: medium;"> Where <strong>SE(β)</strong> is the standard error of the coefficient. </p> </div> <div class="spacer"></div> <div class="rightBox"> <p class="mainBullet"> <strong>Decision Rule</strong> </p> <p class="subBullet" style="font-size: medium;"> Compare the calculated t-value to the critical t-value from the t-distribution table at a chosen significance level (e.g., α = 0.05). </p> <p class="subBullet" style="font-size: medium;"> If |t| > critical value, the coefficient is significant. </p> <p class="mainBullet"> <strong>Example Results</strong> </p> <p class="subBullet" style="font-size: medium;"> - <strong>t₁ (β₁ for temperature):</strong> Significant (p < 0.05). </p> <p class="subBullet" style="font-size: medium;"> - <strong>t₂ (β₂ for pH):</strong> Not significant (p > 0.05). </p>  </div> </div>
      </section>

      <section>
        <h4>Step 5: Adjusting Coefficients to Actual Units</h4> <div> <div class="leftBox"> <p class="mainBullet"> <strong>Converting Coefficients</strong> </p> <p class="subBullet" style="font-size: medium;"> The regression model uses coded levels (-1, +1). To express results in real-world units, we adjust the coefficients. </p> <p class="mainBullet"> <strong>Conversion Formula</strong> </p> <p class="subBullet" style="font-size: medium;"> For a factor X with range [X<sub>min</sub>, X<sub>max</sub>]: </p> <p class="subBullet" style="font-size: medium;"> <strong>X (real) = (X (coded) + 1) × (X<sub>max</sub> - X<sub>min</sub>) / 2 + X<sub>min</sub></strong> </p> <p class="mainBullet"> <strong>Example: Temperature</strong> </p> <p class="subBullet" style="font-size: medium;"> Coded range: -1 to +1 </p> <p class="subBullet" style="font-size: medium;"> Real range: 20°C to 40°C </p> <p class="subBullet" style="font-size: medium;"> β₁ (real) = β₁ (coded) × (40 - 20) / 2 = β₁ (coded) × 10 </p> </div> <div class="spacer"></div> <div class="rightBox"> <p class="mainBullet"> <strong>Final Model in Real Units</strong> </p> <p class="subBullet" style="font-size: medium;"> <strong>Coded Model:</strong> Y = 80 + 7.5 × Temp(coded) + 2.5 × pH(coded) </p> <p class="subBullet" style="font-size: medium;"> <strong>Real Units Model:</strong> Y = 80 + 7.5 × (Temp(real) - 30) / 10 + 2.5 × (pH(real) - 7) / 2 </p> <p class="mainBullet"> <strong>Interpretation</strong> </p> <p class="subBullet" style="font-size: medium;"> - The temperature effect (β₁) increases by 7.5% for every 10°C increase from the center point (30°C). </p> <p class="subBullet" style="font-size: medium;"> - The pH effect (β₂) increases by 2.5% for every 2 units above or below the center point (pH 7). </p> </div> </div>
      </section>

      
    </div>
  </div>
  <div class="footer-global" style="color: white;">
    Chemometrics & Statistics Lecture <br> by Gerrit Renner <br>
    Last updated: December 10, 2024
  </div>
  </div>
  <div id="clock">--:--</div>

  <script src="../dist/reveal.js"></script>
  <script src="../plugin/notes/notes.js"></script>
  <script src="../plugin/markdown/markdown.js"></script>
  <script src="../plugin/highlight/highlight.js"></script>
  <script src="../plugin/math/math.js"></script>
  <script src="../plugin/menu/menu.js"></script>
  <!-- Anything plugin -->
  <!-- Chart plugin -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/9.4.4/math.min.js"></script>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script src="../plugin/chartscii/dist/bundle.js"></script>
  <script>
    // More info about initialization & config:
    // - https://revealjs.com/initialization/
    // - https://revealjs.com/config/
    Reveal.initialize({
      parallaxBackgroundImage: '../resources/bg3.png', // URL of your background image
      // Parallax background size (optional)
      parallaxBackgroundSize: '5376px 1512px', // Adjust to your desired size
      // Parallax background horizontal movement (optional)
      parallaxBackgroundHorizontal: 200, // Horizontal movement, adjust as needed
      menu: {
        custom: [{
          title: 'Topics',
          icon: '<i class="fas fa-home"></i>',
          src: 'menu.html'
        }]
      },
      hash: true,
      // Learn about plugins: https://revealjs.com/plugins/
      plugins: [RevealMarkdown, RevealHighlight, RevealNotes, RevealMath.KaTeX, RevealMenu],
    });
    // Funktion zum Aktualisieren der Uhrzeit
    function updateClock() {
      const now = new Date();
      const hours = String(now.getHours()).padStart(2, '0');
      const minutes = String(now.getMinutes()).padStart(2, '0');
      const seconds = String(now.getSeconds()).padStart(2, '0');
      document.getElementById('clock').textContent = `${hours}:${minutes}:${seconds}`;
    }

    // Uhrzeit sofort und dann jede Sekunde aktualisieren
    updateClock();
    setInterval(updateClock, 1000);
  </script>
  <!-- Chart scripts -->
  <script src="https://cdn.jsdelivr.net/npm/jstat@1.9.5/dist/jstat.min.js"></script>
  <script src="../resources/d3_utils.js"></script>
  <script src="../resources/chart_dataprocessing1.js"></script>
  <script src="../resources/chart_dataprocessing2.js"></script>
  <script src="../resources/chart_smoothing1.js"></script>
  <script src="../resources/chart_fft.js"></script>
  <script src="../resources/chart_dwt.js"></script>

</body>

</html>